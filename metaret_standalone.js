{var need$,read;(function (m){need$=A;var E={},u={};var vA=typeof read==='function';need$.read=vA?read:h;{if(typeof codeparse==='undefined'){if(typeof acorn==='undefined'){(function (vy,vz){if(typeof exports=="object"&&typeof module=="object")return vz(exports);if(typeof define=="function"&&define.amd)return define(["exports"],vz);vz(vy.acorn||(vy.acorn={}));})(this,function (s0){"use strict";s0.version="0.5.1";var pK,pF,tt,sZ;s0.parse=function (vx,vw){pF=String(vx);tt=pF.length;vk(vw);uP();return sM(pK.program);};var vu=s0.defaultOptions={ecmaVersion:5,strictSemicolons:false,allowTrailingCommas:true,forbidReserved:false,allowReturnOutsideFunction:false,locations:false,onComment:null,ranges:false,program:null,sourceFile:null,directSourceFile:null,jsm:false};function vk(vv){pK=vv||{};for(var vt in vu)if(!Object.prototype.hasOwnProperty.call(pK,vt))pK[vt]=vu[vt];sZ=pK.sourceFile||null;}var va=s0.getLineInfo=function (vs,vp){for(var vq=1,vo=0;;){uM.lastIndex=vo;var vr=uM.exec(vs);if(vr&&vr.index<vp){++vq;vo=vr.index+vr[0].length;} else break;}return {line:vq,column:vp-vo};};s0.canBeSafeIdentifierName=vn;function vn(vm){return !(pJ(vm)||pI(vm)||pG(vm)||p5(vm)||t$(vm)||s9(vm));}s0.tokenize=function (vl,vj){pF=String(vl);tt=pF.length;vk(vj);uP();var vh={};function vb(vi){sb=pE;sB(vi);vh.start=pC;vh.end=pE;vh.startLoc=qO;vh.endLoc=qM;vh.type=pA;vh.value=pB;return vh;}vb.jumpTo=function (vg,ve){sL=vg;if(pK.locations){s2=1;s3=uM.lastIndex=0;var vf;while((vf=uM.exec(pF))&&vf.index<vg){++s2;s3=vf.index+vf[0].length;}}py=ve;s1();};return vb;};var sL;var pC,pE;var qO,qM;var pA,pB;var py;var s2,s3;var sg,sb,sK;var qa,q_,pH;var p8;function pD(v_,v$){var u9=va(pF,v_);v$+=" ("+u9.line+":"+u9.column+")";var u8=new SyntaxError(v$);u8.pos=v_;u8.loc=u9;u8.raisedAt=sL;throw u8;}var qB=[];var qm={type:"num"},qS={type:"regexp"},ql={type:"string"};var pL={type:"name"},sH={type:"eof"};var sy={keyword:"break"},si={keyword:"case",beforeExpr:true},s$={keyword:"catch"};var sz={keyword:"continue"},sv={keyword:"debugger"},sj={keyword:"default"};var su={keyword:"do",isLoop:true},sp={keyword:"else",beforeExpr:true};var r9={keyword:"finally"},ss={keyword:"for",isLoop:true},qG={keyword:"function"};var sq={keyword:"if"},sl={keyword:"return",beforeExpr:true},r3={keyword:"switch"};var sd={keyword:"throw",beforeExpr:true},sa={keyword:"try"},rG={keyword:"var"};var r8={keyword:"while",isLoop:true},r6={keyword:"with"},qE={keyword:"new",beforeExpr:true};var qT={keyword:"this"};var sn={keyword:"metafun"},sm={keyword:"metaret",beforeExpr:true},so={keyword:"inline"};var qR={keyword:"null",atomValue:null},qQ={keyword:"true",atomValue:true};var qP={keyword:"false",atomValue:false};var rd={keyword:"in",binop:7,beforeExpr:true};var t_={"break":sy,"case":si,"catch":s$,"continue":sz,"debugger":sv,"default":sj,"do":su,"else":sp,"finally":r9,"for":ss,"function":qG,"if":sq,"return":sl,"switch":r3,"throw":sd,"try":sa,"var":rG,"while":r8,"with":r6,"null":qR,"true":qQ,"false":qP,"new":qE,"in":rd,"instanceof":{keyword:"instanceof",binop:7,beforeExpr:true},"this":qT,"typeof":{keyword:"typeof",prefix:true,beforeExpr:true},"void":{keyword:"void",prefix:true,beforeExpr:true},"delete":{keyword:"delete",prefix:true,beforeExpr:true}};var s8={"metafun":sn,"metaret":sm,"inline":so};var qJ={type:"[",beforeExpr:true},qI={type:"]"},qH={type:"{",beforeExpr:true};var qy={type:"}"},qe={type:"(",beforeExpr:true},qd={type:")"};var pS={type:",",beforeExpr:true},rM={type:";",beforeExpr:true};var qw={type:":",beforeExpr:true},pv={type:"."},rj={type:"?",beforeExpr:true};var sD={binop:10,beforeExpr:true},rw={isAssign:true,beforeExpr:true};var sC={isAssign:true,beforeExpr:true};var up={postfix:true,prefix:true,isUpdate:true},t5={prefix:true,beforeExpr:true};var ra={binop:1,beforeExpr:true};var r_={binop:2,beforeExpr:true};var uu={binop:3,beforeExpr:true};var ur={binop:4,beforeExpr:true};var ut={binop:5,beforeExpr:true};var uf={binop:6,beforeExpr:true};var ui={binop:7,beforeExpr:true};var um={binop:8,beforeExpr:true};var un={binop:9,prefix:true,beforeExpr:true};var ux={binop:10,beforeExpr:true};s0.tokTypes={bracketL:qJ,bracketR:qI,braceL:qH,braceR:qy,parenL:qe,parenR:qd,comma:pS,semi:rM,colon:qw,dot:pv,question:rj,slash:sD,eq:rw,name:pL,eof:sH,num:qm,regexp:qS,string:ql};for(var u7 in t_)s0.tokTypes["_"+u7]=t_[u7];function uV(uX){uX=uX.split(" ");var uW="",u1=[];out:for(var u0=0;u0<uX.length;++u0){for(var u6=0;u6<u1.length;++u6)if(u1[u6][0].length==uX[u0].length){u1[u6].push(uX[u0]);continue out;}u1.push([uX[u0]]);}function uY(u5){if(u5.length==1)return uW+="return str === "+JSON.stringify(u5[0])+";";uW+="switch(str){";for(var u4=0;u4<u5.length;++u4)uW+="case "+JSON.stringify(u5[u4])+":";uW+="return true}return false;";}if(u1.length>3){u1.sort(function (u2,u3){return u3.length-u2.length;});uW+="switch(str.length){";for(var u0=0;u0<u1.length;++u0){var uZ=u1[u0];uW+="case "+uZ[0].length+":";uY(uZ);}uW+="}";} else {uY(uX);}return new Function("str",uW);}var pJ=uV("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile");var pI=uV("class enum extends super const export import");var pG=uV("implements interface let package private protected public static yield");var p5=uV("eval arguments");var t$=uV("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this");var s9=uV("metafun metaret inline");var uC=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/;var uU="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc";var uT="\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f";var t1=new RegExp("["+uU+"]");var uR=new RegExp("["+uU+uT+"]");var sc=/[\n\r\u2028\u2029]/;var uM=/\r\n|[\n\r\u2028\u2029]/g;var tj=s0.isIdentifierStart=function (uS){if(uS<65)return uS===36;if(uS<91)return true;if(uS<97)return uS===95;if(uS<123)return true;return uS>=0xaa&&t1.test(String.fromCharCode(uS));};var ti=s0.isIdentifierChar=function (uQ){if(uQ<48)return uQ===36;if(uQ<58)return true;if(uQ<65)return false;if(uQ<91)return true;if(uQ<97)return uQ===95;if(uQ<123)return true;return uQ>=0xaa&&uR.test(String.fromCharCode(uQ));};function sJ(){this.line=s2;this.column=sL-s3;}function uP(){s2=1;sL=s3=0;py=true;s1();}function s7(uN,uO){pE=sL;if(pK.locations)qM=new sJ();pA=uN;s1();pB=uO;py=uN.beforeExpr;}function uE(){var uI=pK.onComment&&pK.locations&&new sJ();var uJ=sL,uK=pF.indexOf("*/",sL+=2);if(uK===-1)pD(sL-2,"Unterminated comment");sL=uK+2;if(pK.locations){uM.lastIndex=uJ;var uL;while((uL=uM.exec(pF))&&uL.index<sL){++s2;s3=uL.index+uL[0].length;}}if(pK.onComment)pK.onComment(true,pF.slice(uJ+2,uK),uJ,sL,uI,pK.locations&&new sJ());}function uk(){var uG=sL;var uF=pK.onComment&&pK.locations&&new sJ();var uH=pF.charCodeAt(sL+=2);while(sL<tt&&uH!==10&&uH!==13&&uH!==8232&&uH!==8233){++sL;uH=pF.charCodeAt(sL);}if(pK.onComment)pK.onComment(false,pF.slice(uG+2,sL),uG,sL,uF,pK.locations&&new sJ());}function s1(){while(sL<tt){var uB=pF.charCodeAt(sL);if(uB===32){++sL;} else if(uB===13){++sL;var uD=pF.charCodeAt(sL);if(uD===10){++sL;}if(pK.locations){++s2;s3=sL;}} else if(uB===10||uB===8232||uB===8233){++sL;if(pK.locations){++s2;s3=sL;}} else if(uB>8&&uB<14){++sL;} else if(uB===47){var uD=pF.charCodeAt(sL+1);if(uD===42){uE();} else if(uD===47){uk();} else break;} else if(uB===160){++sL;} else if(uB>=5760&&uC.test(String.fromCharCode(uB))){++sL;} else {break;}}}function ud(){var uA=pF.charCodeAt(sL+1);if(uA>=48&&uA<=57)return tC(true);++sL;return s7(pv);}function ub(){var uz=pF.charCodeAt(sL+1);if(py){++sL;return tU();}if(uz===61)return tY(sC,2);return tY(sD,1);}function ua(){var uy=pF.charCodeAt(sL+1);if(uy===61)return tY(sC,2);return tY(ux,1);}function u$(uv){var uw=pF.charCodeAt(sL+1);if(uw===uv)return tY(uv===124?ra:r_,2);if(uw===61)return tY(sC,2);return tY(uv===124?uu:ut,1);}function u_(){var us=pF.charCodeAt(sL+1);if(us===61)return tY(sC,2);return tY(ur,1);}function t9(uq){var uo=pF.charCodeAt(sL+1);if(uo===uq){if(uo==45&&pF.charCodeAt(sL+2)==62&&sc.test(pF.slice(sb,sL))){sL+=3;uk();s1();return sB();}return tY(up,2);}if(uo===61)return tY(sC,2);return tY(un,1);}function t8(ul){var uj=pF.charCodeAt(sL+1);var uh=1;if(uj===ul){uh=ul===62&&pF.charCodeAt(sL+2)===62?3:2;if(pF.charCodeAt(sL+uh)===61)return tY(sC,uh+1);return tY(um,uh);}if(uj==33&&ul==60&&pF.charCodeAt(sL+2)==45&&pF.charCodeAt(sL+3)==45){sL+=4;uk();s1();return sB();}if(uj===61)uh=pF.charCodeAt(sL+2)===61?3:2;return tY(ui,uh);}function t7(ue){var ug=pF.charCodeAt(sL+1);if(ug===61)return tY(uf,pF.charCodeAt(sL+2)===61?3:2);return tY(ue===61?rw:t5,1);}function t3(t6){switch(t6){case 46:return ud();case 40:++sL;return s7(qe);case 41:++sL;return s7(qd);case 59:++sL;return s7(rM);case 44:++sL;return s7(pS);case 91:++sL;return s7(qJ);case 93:++sL;return s7(qI);case 123:++sL;return s7(qH);case 125:++sL;return s7(qy);case 58:++sL;return s7(qw);case 63:++sL;return s7(rj);case 48:var uc=pF.charCodeAt(sL+1);if(uc===120||uc===88)return tE();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return tC(false);case 34:case 39:return tu(t6);case 47:return ub(t6);case 37:case 42:return ua();case 124:case 38:return u$(t6);case 94:return u_();case 43:case 45:return t9(t6);case 60:case 62:return t8(t6);case 61:case 33:return t7(t6);case 126:return tY(t5,1);}return false;}function sB(t4){if(!t4)pC=sL; else sL=pC+1;if(pK.locations)qO=new sJ();if(t4)return tU();if(sL>=tt)return s7(sH);var t2=pF.charCodeAt(sL);if(tj(t2)||t2===92)return tc();var tZ=t3(t2);if(tZ===false){var t0=String.fromCharCode(t2);if(t0==="\\"||t1.test(t0))return tc();pD(sL,"Unexpected character '"+t0+"'");}return tZ;}function tY(tW,tX){var tV=pF.slice(sL,sL+tX);sL+=tX;s7(tW,tV);}function tU(){var tQ="",tR,tT,tO=sL;for(;;){if(sL>=tt)pD(tO,"Unterminated regular expression");var tS=pF.charAt(sL);if(sc.test(tS))pD(tO,"Unterminated regular expression");if(!tR){if(tS==="[")tT=true; else if(tS==="]"&&tT)tT=false; else if(tS==="/"&&!tT)break;tR=tS==="\\";} else tR=false;++sL;}var tQ=pF.slice(tO,sL);++sL;var tP=tb();if(tP&&!/^[gmsiy]*$/.test(tP))pD(tO,"Invalid regular expression flag");try {var tN=new RegExp(tQ,tP);}catch(e){if(e instanceof SyntaxError)pD(tO,"Error parsing regular expression: "+e.message);pD(e);}return s7(qS,tN);}function to(tJ,tG){var tH=sL,tF=0;for(var tL=0,tM=tG==null?Infinity:tG;tL<tM;++tL){var tK=pF.charCodeAt(sL),tI;if(tK>=97)tI=tK-97+10; else if(tK>=65)tI=tK-65+10; else if(tK>=48&&tK<=57)tI=tK-48; else tI=Infinity;if(tI>=tJ)break;++sL;tF=tF*tJ+tI;}if(sL===tH||tG!=null&&sL-tH!==tG)return null;return tF;}function tE(){sL+=2;var tD=to(16);if(tD==null)pD(pC+2,"Expected hexadecimal number");if(tj(pF.charCodeAt(sL)))pD(sL,"Identifier directly after number");return s7(qm,tD);}function tC(tB){var tx=sL,tz=false,ty=pF.charCodeAt(sL)===48;if(!tB&&to(10)===null)pD(tx,"Invalid number");if(pF.charCodeAt(sL)===46){++sL;to(10);tz=true;}var tA=pF.charCodeAt(sL);if(tA===69||tA===101){tA=pF.charCodeAt(++sL);if(tA===43||tA===45)++sL;if(to(10)===null)pD(tx,"Invalid number");tz=true;}if(tj(pF.charCodeAt(sL)))pD(sL,"Identifier directly after number");var tw=pF.slice(tx,sL),tv;if(tz)tv=parseFloat(tw); else if(!ty||tw.length===1)tv=parseInt(tw,10); else if(/[89]/.test(tw)||pH)pD(tx,"Invalid number"); else tv=parseInt(tw,8);return s7(qm,tv);}function tu(ts){sL++;var tq="";for(;;){if(sL>=tt)pD(pC,"Unterminated string constant");var tp=pF.charCodeAt(sL);if(tp===ts){++sL;return s7(ql,tq);}if(tp===92){tp=pF.charCodeAt(++sL);var tr=/^[0-7]+/.exec(pF.slice(sL,sL+3));if(tr)tr=tr[0];while(tr&&parseInt(tr,8)>255)tr=tr.slice(0,-1);if(tr==="0")tr=null;++sL;if(tr){if(pH)pD(sL-2,"Octal literal in strict mode");tq+=String.fromCharCode(parseInt(tr,8));sL+=tr.length-1;} else {switch(tp){case 110:tq+="\n";break;case 114:tq+="\r";break;case 120:tq+=String.fromCharCode(tk(2));break;case 117:tq+=String.fromCharCode(tk(4));break;case 85:tq+=String.fromCharCode(tk(8));break;case 116:tq+="\t";break;case 98:tq+="\b";break;case 118:tq+="\u000b";break;case 102:tq+="\f";break;case 48:tq+="\0";break;case 13:if(pF.charCodeAt(sL)===10)++sL;case 10:if(pK.locations){s3=sL;++s2;}break;default:tq+=String.fromCharCode(tp);break;}}} else {if(tp===13||tp===10||tp===8232||tp===8233)pD(pC,"Unterminated string constant");tq+=String.fromCharCode(tp);++sL;}}}function tk(tn){var tm=to(16,tn);if(tm===null)pD(pC,"Bad character escape sequence");return tm;}var ta;function tb(){ta=false;var te,tf=true,td=sL;for(;;){var tl=pF.charCodeAt(sL);if(ti(tl)){if(ta)te+=pF.charAt(sL);++sL;} else if(tl===92){if(!ta)te=pF.slice(td,sL);ta=true;if(pF.charCodeAt(++sL)!=117)pD(sL,"Expecting Unicode escape sequence \\uXXXX");++sL;var th=tk(4);var tg=String.fromCharCode(th);if(!tg)pD(sL-1,"Invalid Unicode escape");if(!(tf?tj(th):ti(th)))pD(sL-4,"Invalid Unicode escape");te+=tg;} else {break;}tf=false;}return ta?te:pF.slice(td,sL);}function tc(){var s5=tb();var s6=pL;if(!ta){if(t$(s5))s6=t_[s5]; else if(pK.jsm&&s9(s5))s6=s8[s5];}return s7(s6,s5);}function px(){sg=pC;sb=pE;sK=qM;sB();}function rQ(s4){pH=s4;sL=pC;if(pK.locations){while(sL<s3){s3=pF.lastIndexOf("\n",s3-2)+1;--s2;}}s1();sB();}function sX(){this.type=null;this.start=pC;this.end=null;}s0.Node=sX;function sW(){this.start=qO;this.end=null;if(sZ!==null)this.source=sZ;}function pM(){var sY=new sX();if(pK.locations)sY.loc=new sW();if(pK.directSourceFile)sY.sourceFile=pK.directSourceFile;if(pK.ranges)sY.range=[pC,0];return sY;}function qX(sV){var sU=new sX();sU.start=sV.start;if(pK.locations){sU.loc=new sW();sU.loc.start=sV.loc.start;}if(pK.ranges)sU.range=[sV.range[0],0];return sU;}function pp(sR,sT){sR.type=sT;sR.end=sb;if(pK.locations)sR.loc.end=sK;if(pK.ranges)sR.range[1]=sb;return sR;}function p6(sQ){return pK.ecmaVersion>=5&&sQ.type==="ExpressionStatement"&&sQ.expression.type==="Literal"&&sQ.expression.value==="use strict";}function pw(sP){if(pA===sP){px();return true;}}function q2(){return !pK.strictSemicolons&&(pA===sH||pA===qy||sc.test(pF.slice(sb,pC)));}function rZ(){if(!pw(rM)&&!q2())pz();}function pX(sO){if(pA===sO)px(); else pz();}function pz(){pD(pC,"Unexpected token");}function q1(sN){if(sN.type!=="Identifier"&&sN.type!=="MemberExpression")pD(sN.start,"Assigning to rvalue");if(pH&&sN.type==="Identifier"&&p5(sN.name))pD(sN.start,"Assigning to "+sN.name+" in strict mode");}function sM(sI){sg=sb=sL;if(pK.locations)sK=new sJ();qa=pH=null;q_=[];sB();var sE=sI||pM(),sF=true;if(!sI)sE.body=[];while(pA!==sH){var sG=rD();sE.body.push(sG);if(sF&&p6(sG))rQ(true);sF=false;}return pp(sE,"Program");}var r7={kind:"loop"},sk={kind:"switch"};function rD(){if(pA===sD||pA===sC&&pB=="/=")sB(true);var r5=pA,rY=pM();switch(r5){case sy:case sz:px();var sw=r5===sy;if(pw(rM)||q2())rY.label=null; else if(pA!==pL)pz(); else {rY.label=pu();rZ();}for(var r4=0;r4<q_.length;++r4){var sx=q_[r4];if(rY.label==null||sx.name===rY.label.name){if(sx.kind!=null&&(sw||sx.kind==="loop"))break;if(rY.label&&sw)break;}}if(r4===q_.length)pD(rY.start,"Unsyntactic "+r5.keyword);return pp(rY,sw?"BreakStatement":"ContinueStatement");case sv:px();rZ();return pp(rY,"DebuggerStatement");case su:px();q_.push(r7);rY.body=rD();q_.pop();pX(r8);rY.test=rX();rZ();return pp(rY,"DoWhileStatement");case ss:px();q_.push(r7);pX(qe);if(pA===rM)return rO(rY,null);if(pA===rG){var sr=pM();px();ry(sr,true);pp(sr,"VariableDeclaration");if(sr.declarations.length===1&&pw(rd))return rK(rY,sr);return rO(rY,sr);}var sr=pR(false,true);if(pw(rd)){q1(sr);return rK(rY,sr);}return rO(rY,sr);case qG:px();return qf(rY,true);case sq:px();rY.test=rX();rY.consequent=rD();rY.alternate=pw(sp)?rD():null;return pp(rY,"IfStatement");case so:px();return rH(rY);case sn:px();return qj(rY,true);case sm:if(!p8&&!pK.jsmAllowMetaretOutsideFunction)pD(pC,"'metaret' outside of metafun");px();if(pw(rM)||q2())rY.argument=null; else {rY.argument=pR();rZ();}return pp(rY,"JsmMetaretStatement");case sl:if(!qa&&!pK.allowReturnOutsideFunction)pD(pC,"'return' outside of function");px();if(pw(rM)||q2())rY.argument=null; else {rY.argument=pR();rZ();}return pp(rY,"ReturnStatement");case r3:px();rY.discriminant=rX();rY.cases=[];pX(qH);q_.push(sk);for(var se,sf;pA!=qy;){if(pA===si||pA===sj){var sh=pA===si;if(se)pp(se,"SwitchCase");rY.cases.push(se=pM());se.consequent=[];px();if(sh)se.test=pR(); else {if(sf)pD(sg,"Multiple default clauses");sf=true;se.test=null;}pX(qw);} else {if(!se)pz();se.consequent.push(rD());}}if(se)pp(se,"SwitchCase");px();q_.pop();return pp(rY,"SwitchStatement");case sd:px();if(sc.test(pF.slice(sb,pC)))pD(sb,"Illegal newline after throw");rY.argument=pR();rZ();return pp(rY,"ThrowStatement");case sa:px();rY.block=qb();rY.handler=null;if(pA===s$){var s_=pM();px();pX(qe);s_.param=pu();if(pH&&p5(s_.param.name))pD(s_.param.start,"Binding "+s_.param.name+" in strict mode");pX(qd);s_.guard=null;s_.body=qb();rY.handler=pp(s_,"CatchClause");}rY.guardedHandlers=qB;rY.finalizer=pw(r9)?qb():null;if(!rY.handler&&!rY.finalizer)pD(rY.start,"Missing catch or finally clause");return pp(rY,"TryStatement");case rG:px();ry(rY);rZ();return pp(rY,"VariableDeclaration");case r8:px();rY.test=rX();q_.push(r7);rY.body=rD();q_.pop();return pp(rY,"WhileStatement");case r6:if(pH)pD(pC,"'with' in strict mode");px();rY.object=rX();rY.body=rD();return pp(rY,"WithStatement");case qH:return qb();case rM:px();return pp(rY,"EmptyStatement");default:var r2=pB,r0=pR();if(r5===pL&&r0.type==="Identifier"&&pw(qw)){for(var r4=0;r4<q_.length;++r4)if(q_[r4].name===r2)pD(r0.start,"Label '"+r2+"' is already declared");var r1=pA.isLoop?"loop":pA===r3?"switch":null;q_.push({name:r2,kind:r1});rY.body=rD();q_.pop();rY.label=r0;return pp(rY,"LabeledStatement");} else {rY.expression=r0;rZ();return pp(rY,"ExpressionStatement");}}}function rX(){pX(qe);var rW=pR();pX(qd);return rW;}function qb(rV){var rP=pM(),rT=true,rS=false,rR;rP.body=[];pX(qH);while(!pw(qy)){var rU=rD();rP.body.push(rU);if(rT&&rV&&p6(rU)){rR=rS;rQ(rS=true);}rT=false;}if(rS&&!rR)rQ(false);return pp(rP,"BlockStatement");}function rO(rL,rN){rL.init=rN;pX(rM);rL.test=pA===rM?null:pR();pX(rM);rL.update=pA===qd?null:pR();pX(qd);rL.body=rD();q_.pop();return pp(rL,"ForStatement");}function rK(rI,rJ){rI.left=rJ;rI.right=pR();pX(qd);rI.body=rD();q_.pop();return pp(rI,"ForInStatement");}function rH(rz){if(pA===rG){var rF=rD();if(rF.type!=="VariableDeclaration")throw new Error("parseJsmInline: incorrect variable declaration.");if(rF.declarations.length!==1)throw new Error("parseJsmInline: VariableDeclaration: only a single variable declaration!");var rE=rF.declarations[0];rz.jsmVarDeclId=rE.id;rz.jsmVarDeclInit=rE.init;if(rz.jsmVarDeclInit.type!=="CallExpression")throw new Error("parseJsmInline: VariableDeclaration: only the form 'inline var x = f(); is permitted.");} else {var rC=rD();if(rC.type!=="ExpressionStatement")throw new Error("parseJsmInline: ExpressionStatement: either var or expression stmt.");var rA=rC.expression,rB=rA.type;if(rB!=="AssignmentExpression"&&rB!=="CallExpression")throw new Error("parseJsmInline: ExpressionStatement: either AssignmentExpression or CallExpression!");if(rB==="AssignmentExpression"){if(rA.left.type!=="Identifier"||rA.right.type!=="CallExpression")throw new Error("parseJsmInline: ExpressionStatement: only the form 'inline x = f(); is permitted.");rz.jsmAssignLeft=rA.left;rz.jsmAssignRight=rA.right;} else {rz.jsmCall=rA;}}return pp(rz,"JsmInlineStatement");}function ry(rt,rv){rt.declarations=[];rt.kind="var";for(;;){var ru=pM();ru.id=pu();if(pH&&p5(ru.id.name))pD(ru.id.start,"Binding "+ru.id.name+" in strict mode");ru.init=pw(rw)?pR(true,rv):null;rt.declarations.push(pp(ru,"VariableDeclarator"));if(!pw(pS))break;}return rt;}function pR(rs,rr){var rp=ro(rr);if(!rs&&pA===pS){var rq=qX(rp);rq.expressions=[rp];while(pw(pS))rq.expressions.push(ro(rr));return pp(rq,"SequenceExpression");}return rp;}function ro(rn){var rl=rk(rn);if(pA.isAssign){var rm=qX(rl);rm.operator=pB;rm.left=rl;px();rm.right=ro(rn);q1(rl);return pp(rm,"AssignmentExpression");}return rl;}function rk(ri){var rg=rf(ri);if(pw(rj)){var rh=qX(rg);rh.test=rg;rh.consequent=pR(true);pX(qw);rh.alternate=pR(true,ri);return pp(rh,"ConditionalExpression");}return rg;}function rf(re){return q9(q4(),-1,re);}function q9(q5,q7,q6){var rc=pA.binop;if(rc!=null&&(!q6||pA!==rd)){if(rc>q7){var rb=qX(q5);rb.left=q5;rb.operator=pB;var r$=pA;px();rb.right=q9(q4(),rc,q6);var q8=pp(rb,r$===ra||r$===r_?"LogicalExpression":"BinaryExpression");return q9(q8,q7,q6);}}return q5;}function q4(){if(pA.prefix){var q0=pM(),q3=pA.isUpdate;q0.operator=pB;q0.prefix=true;py=true;px();q0.argument=q4();if(q3)q1(q0.argument); else if(pH&&q0.operator==="delete"&&q0.argument.type==="Identifier")pD(q0.start,"Deleting local variable in strict mode");return pp(q0,q3?"UpdateExpression":"UnaryExpression");}var qZ=qY();while(pA.postfix&&!q2()){var q0=qX(qZ);q0.operator=pB;q0.prefix=false;q0.argument=qZ;q1(qZ);px();qZ=pp(q0,"UpdateExpression");}return qZ;}function qY(){return qC(qk());}function qC(qU,qV){if(pw(pv)){var qW=qX(qU);qW.object=qU;qW.property=pu(true);qW.computed=false;return qC(pp(qW,"MemberExpression"),qV);} else if(pw(qJ)){var qW=qX(qU);qW.object=qU;qW.property=pR();qW.computed=true;pX(qI);return qC(pp(qW,"MemberExpression"),qV);} else if(!qV&&pw(qe)){var qW=qX(qU);qW.callee=qU;qW.arguments=pY(qd,false);return qC(pp(qW,"CallExpression"),qV);} else return qU;}function qk(){switch(pA){case qT:var qF=pM();px();return pp(qF,"ThisExpression");case pL:return pu();case qm:case ql:case qS:var qF=pM();qF.value=pB;qF.raw=pF.slice(pC,pE);px();return pp(qF,"Literal");case qR:case qQ:case qP:var qF=pM();qF.value=pA.atomValue;qF.raw=pA.keyword;px();return pp(qF,"Literal");case qe:var qN=qO,qL=pC;px();var qK=pR();qK.start=qL;qK.end=pE;if(pK.locations){qK.loc.start=qN;qK.loc.end=qM;}if(pK.ranges)qK.range=[qL,pE];pX(qd);return qK;case qJ:var qF=pM();px();qF.elements=pY(qI,true,true);return pp(qF,"ArrayExpression");case qH:return qz();case qG:var qF=pM();px();return qf(qF,false);case qE:return qD();default:pz();}}function qD(){var qA=pM();px();qA.callee=qC(qk(),true);if(pw(qe))qA.arguments=pY(qd,false); else qA.arguments=qB;return pp(qA,"NewExpression");}function qz(){var qo=pM(),qx=true,qv=false;qo.properties=[];px();while(!pw(qy)){if(!qx){pX(pS);if(pK.allowTrailingCommas&&pw(qy))break;} else qx=false;var qp={key:qn()},qt=false,qs;if(pw(qw)){qp.value=pR(true);qs=qp.kind="init";} else if(pK.ecmaVersion>=5&&qp.key.type==="Identifier"&&(qp.key.name==="get"||qp.key.name==="set")){qt=qv=true;qs=qp.kind=qp.key.name;qp.key=qn();if(pA!==qe)pz();qp.value=qf(pM(),false);} else pz();if(qp.key.type==="Identifier"&&(pH||qv)){for(var qu=0;qu<qo.properties.length;++qu){var qr=qo.properties[qu];if(qr.key.name===qp.key.name){var qq=qs==qr.kind||qt&&qr.kind==="init"||qs==="init"&&(qr.kind==="get"||qr.kind==="set");if(qq&&!pH&&qs==="init"&&qr.kind==="init")qq=false;if(qq)pD(qp.key.start,"Redefinition of property");}}}qo.properties.push(qp);}return pp(qo,"ObjectExpression");}function qn(){if(pA===qm||pA===ql)return qk();return pu(true);}function qj(qi,qh){if(!qh)throw new Error('metafunction can only be declarations, not expressions.');var qg=true;return qf(qi,qh,qg);}function qf(p1,pZ,p0){if(!p0){if(pA===pL)p1.id=pu(); else if(pZ)pz(); else p1.id=null;} else {if(pA!==pL)pz();p1.id=pP();}p1.params=[];var qc=true;pX(qe);while(!pw(qd)){if(!qc)pX(pS); else qc=false;p1.params.push(pu());}var q$=qa,p9=q_,p7=p8;qa=true;q_=[];p8=p0;p1.body=qb(true);qa=q$;q_=p9;p8=p7;if(pH||p1.body.body.length&&p6(p1.body.body[0])){for(var p4=p1.id?-1:0;p4<p1.params.length;++p4){var p2=p4<0?p1.id:p1.params[p4];if(pG(p2.name)||p5(p2.name))pD(p2.start,"Defining '"+p2.name+"' in strict mode");if(p4>=0)for(var p3=0;p3<p4;++p3)if(p2.name===p1.params[p3].name)pD(p2.start,"Argument name clash in strict mode");}}return pp(p1,(p0?'JsmMetafun':'Function')+(pZ?"Declaration":"Expression"));}function pY(pV,pW,pT){var pQ=[],pU=true;while(!pw(pV)){if(!pU){pX(pS);if(pW&&pK.allowTrailingCommas&&pw(pV))break;} else pU=false;if(pT&&pA===pS)pQ.push(null); else pQ.push(pR(true));}return pQ;}function pP(pO){return pu(pO,true);}function pu(pt,ps){var po=pM();if(pt&&pK.forbidReserved=="everywhere")pt=false;if(pA===pL){if(!pt&&(pK.forbidReserved&&(pK.ecmaVersion===3?pJ:pI)(pB)||pH&&pG(pB))&&pF.slice(pC,pE).indexOf("\\")==-1)pD(pC,"The keyword '"+pB+"' is reserved");po.name=pB;} else if(pt&&pA.keyword){po.name=pA.keyword;} else {pz();}py=false;px();if(ps&&pw(pv)){var pq=[po.name];var pr=pu(pt,ps);pq.push.apply(pq,pr.jsmNameArr||[pr.name]);po.jsmNameArr=pq;po.name=pq.join('.');return pp(po,"JsmDottedIdentifier");}return pp(po,"Identifier");}});}if(typeof acorn.walk==='undefined'){(function (pn){if(typeof exports=="object"&&typeof module=="object")return pn(exports);if(typeof define=="function"&&define.amd)return define(["exports"],pn);pn((this.acorn||(this.acorn={})).walk={});})(function (mh){"use strict";mh.simple=function (pd,pl,pk,pc){if(!pk)pk=mh.base;function pe(pg,pf,pm){var pj=pm||pg.type,ph=pl[pj];pk[pj](pg,pf,pe);if(ph)ph(pg,pf);}pe(pd,pc);};mh.ancestor=function (o5,pa,p$,o4){if(!p$)p$=mh.base;if(!o4)o4=[];function o6(o8,o7,pb){var p_=pb||o8.type,o9=pa[p_];if(o8!=o7[o7.length-1]){o7=o7.slice();o7.push(o8);}p$[p_](o8,o7,o6);if(o9)o9(o8,o7);}o6(o5,o4);};mh.recursive=function (oV,oU,o3,o1){var o0=o3?mh.make(o3,o1):o1;function oW(oY,oX,oZ){o0[oZ||oY.type](oY,oX,oW);}oW(oV,oU);};function oi(oS){if(typeof oS=="string")return function (oT){return oT==oS;}; else if(!oS)return function (){return true;}; else return oS;}function oe(oR,oQ){this.node=oR;this.state=oQ;}mh.findNodeAt=function (oG,oL,oK,oN,oO,oF){oN=oi(oN);try {if(!oO)oO=mh.base;var oH=function (oJ,oI,oP){var oM=oP||oJ.type;if((oL==null||oJ.start<=oL)&&(oK==null||oJ.end>=oK))oO[oM](oJ,oI,oH);if(oN(oM,oJ)&&(oL==null||oJ.start==oL)&&(oK==null||oJ.end==oK))throw new oe(oJ,oI);};oH(oG,oF);}catch(e){if(e instanceof oe)return e;throw e;}};mh.findNodeAround=function (ow,oD,oB,oC,ov){oB=oi(oB);try {if(!oC)oC=mh.base;var ox=function (oz,oy,oE){var oA=oE||oz.type;if(oz.start>oD||oz.end<oD)return;oC[oA](oz,oy,ox);if(oB(oA,oz))throw new oe(oz,oy);};ox(ow,ov);}catch(e){if(e instanceof oe)return e;throw e;}};mh.findNodeAfter=function (ol,ot,os,or,oj){os=oi(os);try {if(!or)or=mh.base;var om=function (oo,on,ou){if(oo.end<ot)return;var oq=ou||oo.type;if(oo.start>=ot&&os(oq,oo))throw new oe(oo,on);or[oq](oo,on,om);};om(ol,oj);}catch(e){if(e instanceof oe)return e;throw e;}};mh.findNodeBefore=function (o_,og,of,od,n9){of=oi(of);if(!od)od=mh.base;var n8;var o$=function (ob,oa,oh){if(ob.start>og)return;var oc=oh||ob.type;if(ob.end<=og&&(!n8||n8.node.end<ob.end)&&of(oc,ob))n8=new oe(ob,oa);od[oc](ob,oa,o$);};o$(o_,n9);return n8;};mh.make=function (n6,n7){if(!n7)n7=mh.base;var n4={};for(var n5 in n7)n4[n5]=n7[n5];for(var n5 in n6)n4[n5]=n6[n5];return n4;};function m3(n2,n1,n3){n3(n2,n1);}function mz(n0,nZ,nY){}var mp=mh.base={};mp.Program=mp.BlockStatement=function (nW,nU,nX){for(var nV=0;nV<nW.body.length;++nV)nX(nW.body[nV],nU,"Statement");};mp.Statement=m3;mp.EmptyStatement=mz;mp.ExpressionStatement=function (nS,nR,nT){nT(nS.expression,nR,"Expression");};mp.IfStatement=function (nP,nO,nQ){nQ(nP.test,nO,"Expression");nQ(nP.consequent,nO,"Statement");if(nP.alternate)nQ(nP.alternate,nO,"Statement");};mp.LabeledStatement=function (nM,nL,nN){nN(nM.body,nL,"Statement");};mp.BreakStatement=mp.ContinueStatement=mz;mp.WithStatement=function (nJ,nI,nK){nK(nJ.object,nI,"Expression");nK(nJ.body,nI,"Statement");};mp.SwitchStatement=function (nH,nC,nF){nF(nH.discriminant,nC,"Expression");for(var nG=0;nG<nH.cases.length;++nG){var nE=nH.cases[nG];if(nE.test)nF(nE.test,nC,"Expression");for(var nD=0;nD<nE.consequent.length;++nD)nF(nE.consequent[nD],nC,"Statement");}};mp.ReturnStatement=function (nA,nz,nB){if(nA.argument)nB(nA.argument,nz,"Expression");};mp.ThrowStatement=function (nx,nw,ny){ny(nx.argument,nw,"Expression");};mp.TryStatement=function (nu,nt,nv){nv(nu.block,nt,"Statement");if(nu.handler)nv(nu.handler.body,nt,"ScopeBody");if(nu.finalizer)nv(nu.finalizer,nt,"Statement");};mp.WhileStatement=function (nr,nq,ns){ns(nr.test,nq,"Expression");ns(nr.body,nq,"Statement");};mp.DoWhileStatement=mp.WhileStatement;mp.ForStatement=function (no,nn,np){if(no.init)np(no.init,nn,"ForInit");if(no.test)np(no.test,nn,"Expression");if(no.update)np(no.update,nn,"Expression");np(no.body,nn,"Statement");};mp.ForInStatement=function (nl,nk,nm){nm(nl.left,nk,"ForInit");nm(nl.right,nk,"Expression");nm(nl.body,nk,"Statement");};mp.ForInit=function (nh,ng,ni){if(nh.type=="VariableDeclaration")ni(nh,ng); else ni(nh,ng,"Expression");};mp.DebuggerStatement=mz;mp.FunctionDeclaration=function (ne,nd,nf){nf(ne,nd,"Function");};mp.VariableDeclaration=function (nc,n_,na){for(var nb=0;nb<nc.declarations.length;++nb){var n$=nc.declarations[nb];if(n$.init)na(n$.init,n_,"Expression");}};mp.Function=function (m8,m7,m9){m9(m8.body,m7,"ScopeBody");};mp.ScopeBody=function (m5,m4,m6){m6(m5,m4,"Statement");};mp.Expression=m3;mp.ThisExpression=mz;mp.ArrayExpression=function (m2,mY,m0){for(var m1=0;m1<m2.elements.length;++m1){var mZ=m2.elements[m1];if(mZ)m0(mZ,mY,"Expression");}};mp.ObjectExpression=function (mW,mU,mX){for(var mV=0;mV<mW.properties.length;++mV)mX(mW.properties[mV].value,mU,"Expression");};mp.FunctionExpression=mp.FunctionDeclaration;mp.SequenceExpression=function (mS,mQ,mT){for(var mR=0;mR<mS.expressions.length;++mR)mT(mS.expressions[mR],mQ,"Expression");};mp.UnaryExpression=mp.UpdateExpression=function (mO,mN,mP){mP(mO.argument,mN,"Expression");};mp.BinaryExpression=mp.AssignmentExpression=mp.LogicalExpression=function (mL,mK,mM){mM(mL.left,mK,"Expression");mM(mL.right,mK,"Expression");};mp.ConditionalExpression=function (mI,mH,mJ){mJ(mI.test,mH,"Expression");mJ(mI.consequent,mH,"Expression");mJ(mI.alternate,mH,"Expression");};mp.NewExpression=mp.CallExpression=function (mF,mD,mG){mG(mF.callee,mD,"Expression");if(mF.arguments)for(var mE=0;mE<mF.arguments.length;++mE)mG(mF.arguments[mE],mD,"Expression");};mp.MemberExpression=function (mB,mA,mC){mC(mB.object,mA,"Expression");if(mB.computed)mC(mB.property,mA,"Expression");};mp.Identifier=mp.Literal=mz;mp.JsmMetafunDeclaration=function (mx,mw,my){my(mx,mw,"Function");};mp.JsmFunctionDeclaration=function (mu,mt,mv){mv(mu,mt,"Function");};mp.JsmMetaretStatement=function (mr,mq,ms){ms(mr.argument,mq,"Expression");};mp.JsmInlineStatement=function (mm,ml,mn){if(mm.jsmVarDeclId){mn(mm.jsmVarDeclId,ml);mn(mm.jsmVarDeclInit,ml);} else if(mm.jsmAssignLeft){mn(mm.jsmAssignLeft,ml);mn(mm.jsmAssignRight,ml);} else {mn(mm.jsmCall,ml);}};function ma(mk,mj){return {vars:Object.create(null),prev:mk,isCatch:mj};}function l7(mi){while(mi.isCatch)mi=mi.prev;return mi;}mh.scopeVisitor=mh.make({Function:function (mc,mf,md){var mb=ma(mf);for(var mg=0;mg<mc.params.length;++mg)mb.vars[mc.params[mg].name]={type:"argument",node:mc.params[mg]};if(mc.id){var me=mc.type=="FunctionDeclaration";(me?l7(mf):mb).vars[mc.id.name]={type:me?"function":"function name",node:mc.id};}md(mc.body,mb,"ScopeBody");},TryStatement:function (l9,l8,m_){m_(l9.block,l8,"Statement");if(l9.handler){var m$=ma(l8,true);m$.vars[l9.handler.param.name]={type:"catch clause",node:l9.handler.param};m_(l9.handler.body,m$,"ScopeBody");}if(l9.finalizer)m_(l9.finalizer,l8,"Statement");},VariableDeclaration:function (l6,l1,l3){var l4=l7(l1);for(var l5=0;l5<l6.declarations.length;++l5){var l2=l6.declarations[l5];l4.vars[l2.id.name]={type:"var",node:l2.id};if(l2.init)l3(l2.init,l1,"Expression");}}});});}(function (iK){var l0='return',jr='var',lX=["break","case","catch","continue","debugger","default","delete","do","else","finally","for","function","if","in","instanceof","new",l0,"switch","this","throw","try","typeof",jr,"void","while","with","class","const","enum","export","extends","import","super","implements","interface","let","package","private","protected","public","static","yield"],lW=[{open:l0,close:';',typebracket:l0,ignore_unbalanced:true},{open:jr,close:[';','in'],typebracket:jr,ignore_unbalanced:true}],kn={};iK.codeparse=lY;lY.getDefaultReservedArr=lZ;function lZ(){return [].concat(lX);}function lY(kF,lV){var kE=(lV&&lV.reservedArr||lX).concat(lV&&lV.extraReservedArr||[]),kL=lW.concat(lV&&lV.extraBracketArr||[]),j9={strArr:[],commentArr:[],regexpArr:[],callArr:[],dotArr:[],dotcallArr:[],identifierArr:[],identifierArrReverse:[],identifierObj:{},identifierObjReverse:{},callObj:{},bracketcurlyArr:[],bracketroundArr:[],bracketsquareArr:[],bracketextraArr:[],bracketArr:[],bracketTree:[],functionDeclarationArr:[],functionExpressionArr:[],jsmMetafunArr:[],jsmMetaretArr:[],jsmInlineArr:[],rawAP:null},k3=kF;var ko=j9.commentArr,lP=j9.rawAP=acorn.parse(kF,{jsm:true,onComment:lU,jsmAllowMetaretOutsideFunction:lV&&lV.jsmAllowMetaretOutsideFunction,allowReturnOutsideFunction:lV&&lV.allowReturnOutsideFunction});function lU(lT,lS,lR,lQ){ko.push({begin:lR,str:kF.substring(lR,lQ)});k3=k3.substring(0,lR)+ib(' ',lQ-lR)+k3.substring(lQ);}var kv,ly=j9.callArr,k2=j9.dotArr,lL=j9.dotcallArr,kr=j9.identifierArr,l_=j9.regexpArr,la=j9.strArr,lv=j9.functionDeclarationArr,lo=j9.functionExpressionArr,lg=j9.jsmMetafunArr,kD=j9.jsmMetaretArr,lj=j9.jsmInlineArr,kG=k3;acorn.walk.simple(lP,{CallExpression:lC,FunctionDeclaration:lA,FunctionExpression:ls,Identifier:kQ,JsmInlineStatement:lk,JsmMetafunDeclaration:lh,JsmMetafunExpression:ld,Literal:kX,MemberExpression:k5,NewExpression:lD,ObjectExpression:kZ,ThisExpression:kU,VariableDeclaration:kS});ly.sort(j8);k2.sort(j8);lL.sort(j8);kr.sort(j8);l_.sort(j8);la.sort(j8);function lC(lH){var lE=lH.callee;if(lE.type==="Identifier"){var lO=lE.start,lJ=k3.indexOf("(",lE.end);if(lJ<0)throw new Error('meet_CallExpression bug');var lN=kF.substring(lO,lJ+1);ly.push({begin:lO,str:lN,name:lE.name,acornNode:lH});for(var lG=kr.length;lG--;){if(lE===kr[lG].acornNode){kr.splice(lG,1);break;} else if(kr[lG].begin<lE.start){break;}}} else if(lE.type==="MemberExpression"){var lF=lE.property,lI=lF.name,lK=k3.lastIndexOf(lE.computed?"[":".",lF.start),lM=lE.computed?k3.indexOf("]",lF.end):lF.end,lJ=k3.indexOf("(",lM);if(lK<0||lM<0||lM<lK||lJ<0)throw new Error('meet_CallExpression bug');lL.push({begin:lK,str:kF.substring(lK,lJ+1),name:lI,acornNode:lH});for(var lG=k2.length;lG--;){if(lF===k2[lG].acornNode){k2.splice(lG,1);break;} else if(k2[lG].begin<lF.start){break;}}} else if(/Expression$/.test(lE.type)){} else throw new Error("bug");}function lD(lB){if(lB.arguments.length)lC(lB);}function lA(lt){var lu=lt.id.name;(lu||0).substring.call.a;var lx=lt.id.start;lx.toPrecision.call.a;var lz=k3.indexOf("(",lt.id.end),lw=k3.substring(lx,lz+1);ly.push({begin:lx,str:lw,name:lu,acornNode:lt});lt.params.forEach(kQ);lv.push({begin:lt.start,str:k3.substring(lt.start,lt.end),type:lt.type,name:lu,acornNode:lt});}function ls(ll){ll.params.forEach(kQ);var ln=ll.start,lp=ll.end,lm;while(!/^function/.test(lm=k3.substring(ln,lp))){var lr=/^\s*\(\s*/.exec(lm),lq=/\s*\)\s*$/.exec(lm);ln+=lr[0].length;lp-=lq[0].length;if(ln>lp)throw new Error('bug');}lo.push({begin:ln,str:lm,type:ll.type,name:ll.id?ll.id.name:'',acornNode:ll});}function lk(li){lj.push({begin:li.start,end:li.end,str:k3.substring(li.start,li.end),type:li.type,name:'inline',acornNode:li});}function lh(le){var lf=le.id.name;(lf||0).substring.call.a;lg.push({begin:le.start,str:k3.substring(le.start,le.end),type:le.type,name:lf,acornNode:le});}function ld(lc){}function kQ(lb){kr.push({begin:lb.start,str:lb.name,name:lb.name,acornNode:lb});}function kX(k6){var l$=k6.value,k9=null,k8,k7;if(k8='string'===typeof l$)k9=la; else if(k7=l$ instanceof RegExp)k9=l_;if(k9)k9.push({begin:k6.start,str:k6.raw,acornNode:k6});if(k8||k7){kG=kG.substring(0,k6.start)+ib(' ',k6.end-k6.start)+kG.substring(k6.end);}}function k5(k4){var k0=k4.property;if(!k4.computed&&k0.type==="Identifier"){var k1=k3.lastIndexOf('.',k0.start);if(k1<0)throw new Error('meet_MemberExpression bug');k2.push({begin:k1,str:kF.substring(k1,k0.start+k0.name.length),name:k0.name,acornNode:k0});}}function kZ(kV){kV.properties.forEach(function (kY){var kW=kY.key;if(kW.type==="Identifier")kQ(kW); else if(kW.type==="Literal")kX(kW); else throw new Error("Whatever "+kV.start);});}function kU(kT){kr.push({begin:kT.start,str:'this',name:'this',acornNode:kT});}function kS(kR){kR.declarations.forEach(function (kP){kQ(kP.id);});}var kO=j9.bracketcurlyArr,kN=j9.bracketroundArr,kM=j9.bracketsquareArr,kJ=j9.bracketextraArr,kB=j9.bracketArr,kH=[{out_arr:kO,open:'{',close:'}',typebracket:'curly'},{out_arr:kN,open:'(',close:')',typebracket:'round'},{out_arr:kM,open:'[',close:']',typebracket:'square'}].concat(kL.map(function (kK){var kI=Object.create(kK);kI.out_arr=kJ;return kI;}));j$(kH,kG,kF,kB);j2(kB,j9.bracketTree);jU(kB,kG,kF,kE);ju(kB,ko);kD.push.apply(kD,kB.filter(function (kC){return kC.typebracket==='metaret';}));var kv=kB.filter(function (kA){return kA.typebracket===jr;}).reduce(function (kz,ky){return kz.concat(ky.sepSplit);},[]);for(var kt=0,kp=kv.length,kx=kr.length,k$=0;k$<kp&&kt<kx;k$++){var kl=kv[k$],ku;while((ku=kr[kt]).begin<kl.begin){ku.isVardecl=false;kt++;}ku.isVardecl=true;kt++;}var kr=j9.identifierArr,ks=j9.identifierArrReverse=iI(kr),kq=j9.vardeclArr=[],kj=j9.identifierObj={};for(var kp=kr.length,k$=0;k$<kp;k$++){var kl=kr[k$];(kj[kl.str]!==kn[kl.str]?kj[kl.str]:(kj[kl.str]=[])).push(kl.begin);if(kl.isVardecl)kq.push(kl);}var ko=j9.callArr,km=j9.callObj={};for(var kp=ko.length,k$=0;k$<kp;k$++){var kl=ko[k$];(km[kl.name]!==kn[kl.name]?km[kl.name]:(km[kl.name]=[])).push(kl.begin);}var kk=j9.identifierObjReverse={};for(var ki in kj){if(!(ki in kk)){kk[ki]=iI(kj[ki]);}}var kc=j9.all=[];for(var kh in j9){var kg=kh.match(/^(.+)Arr$/);if(kg){var ke=j9[kh],kf=kg[1];for(var k$=ke.length;k$--;)ke[k$].type=kf;kc.push.apply(kc,ke);}}for(var k$=kc.length;k$--;){var ka=kc[k$];if(!('end' in ka))ka.end=ka.begin+ka.str.length;}kc.sort(j5);for(var k$=kc.length;--k$;){var ka=kc[k$],kd=kc[k$-1];if(ka.begin===kd.begin&&ka.end===kd.end){if(ka.type!==kd.type)throw new Error("Internal bug.");kc.splice(k$,1);}}j9.allReverse=iI(kc);var k_=[].concat(kc);for(var k$=k_.length-1;k$--;){var ka=k_[k$],kb;while(kb=k_[k$+1],kb&&ka.begin<=kb.begin&&kb.end<=ka.end){(ka.children||(ka.children=[])).push(k_.splice(k$+1,1)[0]);}}j9.allTree=k_;return j9;}reservedSet={};function j8(j7,j6){return j7.begin<j6.begin?-1:+1;}function j5(j4,j3){return j4.begin<j3.begin?-1:j4.begin>j3.begin?+1:j4.end>j3.end?-1:+1;}function j2(j0,jX){var jW=[];for(var j1=j0.length,jZ=0;jZ<j1;jZ++){var jV=j0[jZ];jV.bracketchildren=[];var jY;while((jY=jW[jW.length-1])&&jY.end<jV.begin)jW.pop();jV.bracketparent=jY?jY:null;jV.bracketdepth=jW.length;if(jY&&jV.begin<jY.end)jY.bracketchildren.push(jV); else jX.push(jV);jW.push(jV);}}function jU(jS,jB,jC,jT){for(var jR=jS.length;jR--;){var jI=jS[jR],jQ=jI.bracketchildren,jJ=jB.substring(jI.begin,jI.end),jK=jI.begin,jO=[{begin:0,end:jI.open.length}];for(var jN=jQ.length,jF=0;jF<jN;jF++){var jP=jQ[jF];jO.push({begin:jP.begin-jK,end:jP.end-jK});}jO.push({begin:jJ.length-jI.close.length,end:jJ.length});jJ=ij(jJ,jO);var jL=jI.sepArr=[];for(var jN=jJ.length,jF=0;jF<jN;jF++){var jM=jJ.charAt(jF);if(jM===','||jM===';')jL.push({index:jK+jF,type:jM});}var jE='<first>',jD='<last>',jG=[{index:jK+jI.open.length,type:jE}].concat(jL).concat([{index:jK+jJ.length-jI.close.length,type:jD}]),jA=jI.sepSplit=[];for(var jH=-1+jG.length,jF=0;jF<jH;jF++){var jw=jG[jF],jv=jG[jF+1],jz=jw.index+(jw.type!==jE&&jw.type!==jD?jw.type.length:0),jy=jv.index,jx=jC.substring(jz,jy);if(!jx||/^\s*$/.test(jB.substring(jz,jy)))continue;jA.push({begin:jz,end:jy,str:jx,sep_begin:jw,sep_end:jv});}}}function ju(jt,jg){for(var js=jt.length,je=jg.length;js--;){var jq=jt[js];if(jq.typebracket!==jr)continue;var jl=jq.vdArr=[];var jo=jq.sepSplit;for(var jp=jo.length,jn=0;jn<jp;jn++){var jm=jo[jn],jj=jm.hasOwnProperty('str_noComments')?jm.str_noComments:(jm.str_noComments=iz(/\/\*|\*\//.test(jm.str)?ji(jm):jm.str)),jk=jj.match(/^([^=]*)\s*=\s*([\s\S]+)$/);jl.push(jk?{leftstr:jk[1],rightstr:jk[2]}:{leftstr:jj,rightstr:null});}}function ji(jh){var ja=jh.str,jc=jh.begin,jf=jh.end,jb=[];if(0<je){for(;je--;){var jd=jg[je];if(jd.end>jf)continue;if(jd.end<jc){je++;break;}jb.unshift(jd.end-jc);}jb.unshift(jd.begin-jc);return jb.join('');}return ja;}}function j$(iY,i2,iN,iT){var i3=new RegExp(iY.map(function (j_){var i9=i5(j_.open),i7=i5(j_.close);return '('+i9+')'+'|'+'('+i7+')';function i5(i6){return 'string'===typeof i6?i6.replace(/(\W)/g,'\\$1').replace(/^(\w)/,'\\b$1').replace(/(\w)$/,'$1\\b'):i6.map(i5).join('|');}}).join('|'),'g'),iQ=[],iV,iZ;while(iV=i3.exec(i2)){var i1=-1;for(var iS=iV.length;iS--;){if(iV[iS]){i1=iS-1;break;}}if(!(-1<i1))iZ.bug;var iW=1&i1,iX=i1>>1;var i0=iY[iX][iW?'close':'open'];if(!('string'===typeof i0?iV[0]===i0:-1<i0.indexOf(iV[0])))iZ.bug;var iP={begin:iV.index,end:iV.index+iV[0].length,cfg:iY[iX]};iP[iW?'close':'open']=iV[0];iQ.push(iP);}var iL=[];for(var iU=iQ.length,iS=0;iS<iU;iS++){var iP=iQ[iS];if(iP.open){var iM={begin:iP.begin,typebracket:iP.cfg.typebracket,open:iP.cfg.open,close:iP.cfg.close};iP.cfg.out_arr.push(iM);iT.push(iM);iL.push({i:iS,x:iM});} else {var iJ=iL[iL.length-1];if(!iJ){if(!iP.cfg.ignore_unbalanced)throw new Error('Unbalanced brackets: missing an opening "'+iP.cfg.open+'".');} else if('string'===typeof iJ.x.close?iJ.x.close!==iP.close:0>iJ.x.close.indexOf(iP.close)){if(!(iQ[iJ.i].cfg.ignore_unbalanced||iP.cfg.ignore_unbalanced)){throw new Error('Unbalanced brackets: opening typebracket "'+iJ.x.typebracket+'" ('+iJ.x.begin+')'+' does not match closing typebracket "'+iP.cfg.typebracket+'" ('+iP.begin+').');}} else {var iM=iL.pop().x;iM.close=iP.close;iM.end=iP.end;iM.str=iN.substring(iM.begin,iM.end);}}}if(iL.length!==0){var iJ=iL[iL.length-1];iK.console&&iK.console.error("last:",iJ);throw new Error('Unbalanced brackets: missing a closing "'+iJ.x.close+'" for {open:"'+iJ.x.open+'", begin:<char:'+iJ.x.begin+'>}. Did you forget a semicolon, maybe?');}}function iI(iH){var iG=[].concat(iH);iG.reverse();return iG;}function ib(iF,iE){var iC;if(iE<1000){iC=iF+'#'+iE;if(iC in ib)return ib[iC];}var iD=[];while(iE){if(iE&1)iD.push(iF);iF+=iF;iE>>=1;}var iB=iD.join('');if(iC!=null)ib[iC]=iB;return iB;}function iz(ix){var iy=ix.length;if(!iy)return ix;for(var iw=0;iw<iy;iw++){if(ix.charAt(iw)!==' ')break;}for(var iv=iy-1;iv>=iw;iv--){if(ix.charAt(iv)!==' ')break;}return ix.substring(iw,iv+1);}function iu(is,im){if(typeof is==='number'){im=is;is=null;}is=is||' ';var it=Math.abs(im)*is.length;return function (il){il=il||'';il=il+'';var ip=Math.max(0,it-il.length),iq=is,ik=[];for(var ir=Math.floor(ip/is.length)+(ip%is.length>0?1:0);ir>0;iq+=iq,ir>>=1){if(ir&&1)ik.push(iq);}ik=ik.join('');if(ik.length>ip)ik=im<0?ik.substring(ik.length-ip):ik.substring(0,ip);if(ik.length!==ip)throw new Error('str.filler() is buggy!');return im<0?ik+il:il+ik;};}function ij(i_,ig){if(!ig.length)return i_;var ii=ig[ig.length-1],h8=[],h9=0;for(var ih=ig.length,ie=0;ie<ih;ie++){var ic=ig[ie],i$=ic.end,ia=ic.begin;if(h9<ia)h8.push(i_.substring(h9,ia));h8.push(ib(' ',i$-ia));h9=i$;}if(h9<i_.length)h8.push(i_.substring(h9));return h8.join('');}})(this);}if(typeof cp2fmtree==='undefined'){(function (h1){var hV='jsmMetafun',h7='jsmMetaret',hX='functionExpression',hW='functionDeclaration',h6='reserved',h5='call',h4='dotcall',h3='bracket',h2='curly',gq={};h1.cp2fmtree=ht;function ht(ho,hr,hq,hF){var hp=arguments.length<2;hr||(hr=[]);hq||(hq={iAnonymous:0,lastname2fmarr:{}});var hZ=ho instanceof Array?ho:ho.allTree,hm=[];if(hp)hm.lastname2fmarr=hq.lastname2fmarr;for(var h0=hZ.length,hY=0;hY<h0;hY++){var hs=hZ[hY];var hN=hs.type===hX||hs.type===hW,hM=hs.type===hV,hw=hN&&!hs.name;if(hw||hN||hM){var hP=hs.begin,hO,hL=[],hK=[],hU;if(hw){hL=['anonymous#'+hq.iAnonymous++];} else {hL=hs.name.split('.');}var hQ=hs.children.filter(function (hT){return hT.type!=='comment';}),hS=hQ[0];if(hS.type==='call'){if(hS.name!==hs.name)throw new Error('Inconsistency! Probably a bug here.');hQ.shift();}if(hQ.length!==2)throw new Error('Unexpected metafun declaration or function declaration');var hJ=hQ[0],hH=hJ.sepSplit.map(hl),hG={};for(var hR=hH.length;hR--;)hG[hH[hR]]=1;var hC=hQ[1],hO=hC.end,hx=hC.str,hE=hr.concat(hL),hI=hE.join('.'),hv=hE[hE.length-1],hu={begin:hP,end:hO,fullname_arr:hE,lastname:hv,isFunction:hN,isMetafunction:hM,isAnonymousFunction:hw,dot_arr:hL,dotnode_arr:hK,param_node:hJ,body_node:hC,fm_node:hs,fullname:hI,param_arr:hH,param_str:hH.join(','),param_set:hG,parent:hF||null,children:null,body:null};var hy=hC.children?ht(hC.children,hE,hq,hu):[];for(var hD=hy.length;hD--;){var hB=hy[hD],hA=hB.begin-hC.begin,hz=hB.end-hC.begin;if(!hB.isAnonymousFunction)hx=hx.substring(0,hA)+hx.substring(hA,hz).replace(/[\s\S]/g,' ')+hx.substring(hz);}hu.children=hy;hu.body=hx;hm.push(hu);if(!hw){(hq.lastname2fmarr[hv]||(hq.lastname2fmarr[hv]=[])).push(hu);}} else if(hs.children){hm.push.apply(hm,ht(hs.children,hr,hq));}}if(hp){hj(hm,[].concat(ho.vardeclArr),'vardecl');hj(hm,ho.identifierArr.filter(function (hn){return !hn.isVardecl;}),'varuse');gO(hm);}return hm;}function hl(hk){return hk.str.replace(/\/\*[\s\S]*?\*\//g,'').replace(/(^\s+|\s+$)/g,'');}function hj(hg,g9,hb){var hh=hg.length;for(var hf=0;hf<hh;hf++){var hc=hg[hf],hi=hc.children;if(hi&&hi.length)hj(hi,g9,hb);}for(var hf=0;hf<hh;hf++){var hc=hg[hf],he=hc.begin,h_=hc.end,hd=hc.param_node.begin,ha=hc.param_node.end,g7=hc[hb+'Arr']=[],g6=hc[hb+'Obj']={};for(var g8=g9.length;g8--;){var h$=g9[g8];if(h$.end<ha)break;if(h$.begin<h_){var g5=g9.splice(g8,1)[0];g7.unshift(g5);(g6[g5.name]||(g6[g5.name]=[])).push(g5);}}}}function gO(g3,gM){if(g3 instanceof Array){for(var gT=g3.length,g4=0;g4<gT;g4++)gO(g3[g4],gM);return;}var gN=g3;gM=gM?gt(gM):{};var g2=gN.idname2decluse=gM,gQ=[gM];for(var gS=gN.param_arr.length;gS--;){var gR=gN.param_arr[gS],g1=gN.param_node.sepSplit[gS];gF(gQ,gR,{isParam:true,fmDecl:gN,use:[],name:gR,declArr:[{begin:g1.begin,end:g1.end}]});}for(var gR in gN.vardeclObj){if(!(gR in gq)){var gZ=gN.vardeclObj[gR],g0=gZ.length,gW=new Array(g0);for(var gY=0;gY<g0;gY++){var gX=gZ[gY];gW[gY]={begin:gX.begin,end:gX.end};}gF(gQ,gR,{isVardecl:true,fmDecl:gN,use:[],name:gR,declArr:gW});}}for(var gS=gN.children.length;gS--;){var gV=gN.children[gS],gR=gV.lastname,gU=[];if(gV.dotnode_arr.length){gU.push({begin:gV.dotnode_arr[0].begin,end:gV.dotnode_arr.slice(-1)[0].end});}gF(gQ,gR,{isFunction:true,fmDecl:gN,use:[],name:gR,declArr:gU});}for(var gT=gN.varuseArr.length,gS=0;gS<gT;gS++){var gP=gN.varuseArr[gS],gR=gP.name;if(!gM[gR]){gF(gQ,gR,{isGlobal:true,fmDecl:null,use:[]});}gy(gQ,gN,gP);}gO(gN.children,gM);}function gL(gK,gI){return (gK||[]).map(function (gJ){var gH=gt(gJ);gH.fmUse=gI;return gH;});}function gF(gC,gB,gz){var gG;(gB||0).substring.call.a;(gz||gG).hasOwnProperty.call.a;if(gC instanceof Array){gC.forEach(function (gE){gF(gE,gB,gz);});return;}if(!gC[gB]||gC[gB].fmDecl!==gz.fmDecl){var gD=gt(gz);gD.use=[].concat(gD.use);gC[gB]=gD;} else {var gA=gC[gB].use;gA.push.apply(gA,gz.use);}}function gy(gw,gu,gv){if(gw instanceof Array){gw.forEach(function (gx){gy(gx,gu,gv);});return;}gw[gv.name].use.push(gr(gt(gv),{fmUse:gu}));}function gt(gs){return gr({},gs);}function gr(gn,gp){for(var go in gp){if(!(go in gq)){gn[go]=gp[go];}}return gn;}})(this);}if(typeof metaparse==='undefined'){if(typeof codeparse==='undefined'){}if(typeof cp2fmtree==='undefined'){};(function (fv){var dc=0,gj='metafun',dF='metaret',gm=[gj,dF],gl=[{open:dF,close:';',typebracket:dF,ignore_unbalanced:true}],g_={extraReservedArr:gm,extraBracketArr:gl},fA={jsmAllowMetaretOutsideFunction:true,allowReturnOutsideFunction:true},dL=bM({},g_,fA);fv.MetaDecl=fW;fv.MetaFunction=e6;fv.metaparse=gg;gg.get_CODEPARSE_OPT=gi;gg.get_CONST=gk;function gi(){return JSON.parse(JSON.stringify(g_));}function gk(){return {'METAFUN':gj,'METARET':dF,'CODEPARSE_OPT':gi()};}var gh=/\s*(metafun|function)\s*(\S+)\s*\(\s*([^\)]+?)\s*\)((?![\r\n]\s*(metafun|function))[\s\S])*/g,fE=/^\s*(metafun|function)\s*(\S+)\s*\(\s*([^\)]+?)\s*\)\s*\{\s*(((?![\r\n]\s*(metafun|function))[\s\S])*)\s*\}\s*$/,fF=/^\s*(metafun|function)\s/,fI=/^\s*function\s/;function gg(gf,f7,f6){f7||(f7=fw);var gd=gf?[gf]:document.getElementsByTagName('script'),f5=[];for(var ge=gd.length,gc=0;gc<ge;gc++){var ga=gd[gc],gb='string'===typeof ga;if(!gb&&'text/js-metaret-decl'!==ga.getAttribute('type'))continue;var g$=gb?ga:ga.textContent||ga.innerText,f9=codeparse(g$,g_),f8=cp2fmtree(f9);f2(f8,true,f7,f5,f6);}return f5;}function f2(fY,f0,fZ,fX,f1){fX||(fX=[]);if(fY instanceof Array){for(var f4=fY.length,f3=0;f3<f4;f3++)f2(fY[f3],f0,fZ,fX,f1);} else {if(fY.children)f2(fY.children,false,fZ,fX,f1);fZ[fY.fullname]={fm:fY,_work_in_progress:true};fB(fY.fullname,fY.param_str,fY.body,fY.children,fY.isFunction,fZ,f1);delete fZ[fY.fullname]._work_in_progress;if(f0)fX.push({fullname:fY.fullname,fmtree:fY,info:fZ[fY.fullname]});}return fX;}var fw={};function fW(fV,fU,fT,fS,fR,fQ){fB(fV,fU,fT,fS,false,fR||fw,fQ);}function fP(fO,fN,fM,fL,fK,fJ){fB(fO,fN,fM,fL,true,fK||fw,fJ);}function fB(fx,fp,fn,fk,fr,fl,fj){fk||(fk=[]);fr!=null||(fr=fI.test(fx));fl||(fl=fw);var fG=fp==null,fH=fn==null;if(fG^fH)throw new Error('Decl: invalid usage. Give either both `param` and `body`, or none of them.');if(fG){var fD=fF.test(fx)?fx:(fr?'function':'metafun')+' '+fx,fC=fE.exec(fD),fq=fC[2];fp=fC[3];fn=fC[4];fB(fq,fp,fn,fk,fr,fl,fj);return;}if(!fr){var fz=codeparse(fn,fA),fy=fz.identifierObj['arguments']||[];if(fy.length)throw new Error('metafun error: it is forbidden to use `arguments` in the body of the metafun (because the body of the metafun may end up being inlined within a `while` loop).');}var fq=fx;var fs=fq.split('.'),ft=fl===fw?fv:{};while(fs.length>1){var fu=fs.shift();ft=ft[fu]||(ft[fu]={});}var fo=fr?'':('\nmetafun '+fq+'\n( '+fp+')').replace(/([\r\n])/g,'$1// --- ')+'\n\n';ft[fs[0]]=(fr?fi:e6)(fq,fp,fo+fn,fl,fk,fj);}function fi(fe,e8,e7,fd,ff,fc){d2(fd,fe);if(ff&&ff.length){var fg=/\}\s*/,fh=fg.test(e7);e7=fh&&e7.replace(fg,'\n\n'+e_(fd,ff)+'\n\n}');}var e9=fd[fe]=fd[fe]||{};e9.name=fe;e9.lastname=fe.replace(/^.*\./,'');e9.origParam=e8;e9.origBody=e7;e9.name2info=fd;e9.impl=null;e9.paramArr=e8.split(',');e9.body=e7;var fb=fc&&fc.doNotCompile?fa:f_();fb.getInfo=f$;fb.getImpl=f_;return fb;function fa(){return (e9.impl||(e9.impl=f_())).apply(this,arguments);}function f$(){return Object.create(e9);}function f_(){return e9.impl||(e9.impl=new Function(e8,e7));}}function e6(e1,e5,e3,eY,e0,eX){d2(eY,e1);var eS=eY[e1]=eY[e1]||{};eS.name=e1;eS.lastname=e1.replace(/^.*\./,'');eS.origParam=e5;eS.origBody=e3;eS.name2info=eY;eS.solved=false;eS.newParam=null;eS.newBody=null;eS.impl=null;var e2=eS.paramArr=dY(e5),e4=eS.varArr=dU(e3),eZ=eS.metaretArr=dM(e3,e2.self,e1);eQ(eS,e0);var eW=eV;if(eZ.hasAll(eY)){eS.solve();if(!(eX&&eX.doNotCompile))eW=eS.compile();}eW.getInfo=eU;eW.getImpl=eT;return eW;function eV(){if(!eS.impl)eS.compile();return eS.impl.apply(this,arguments);}function eU(){return Object.create(eS);}function eT(){if(!eS.impl)eS.compile();return eS.impl;}}var d1=/^(([a-zA-Z_]\w*|anonymous#\d+)\.)*([a-zA-Z_]\w*|anonymous#\d+)$/,eR=/^(([a-zA-Z_]\w*|anonymous#\d+)\.)*(anonymous#\d+)$/,dX=/^((?:^\s*|\s*,\s*)[a-zA-Z_]\w*(?:\s*))+$/,dD=/^[a-zA-Z_]\w*?(\.[a-zA-Z_]\w*?)*$/,c1=Array.prototype.slice;function eQ(eo,ek){var eI=eo.name,ey=eo.metaretArr,eq=eo.paramArr,eP=eo.varArr,eE=eo.origBody,ef=eo.name2info,eO=eI.split('.');eo.solve=eM;eo.compile=eN;function eM(){if(eo.solved)return;if(!ey.hasAll(ef))throw new Error('MetaFunction : _createSolver : solve() could not resolve all dependencies yet for metafunction "'+eI+'".');if(!ey.length)eL(); else if(!ey.hasOther())eJ(); else ez();eo.solved=true;}function eN(){if(!eo.solved)eM();return eo.impl||(eo.impl=new Function(eo.newParam.join(','),eo.newBody));}function eL(){var eK='MetaFunction : _createSolver:solveNoMetaret() no #metaret in body of metafunction "'+eI+'".';if('undefined'!==typeof console&&console.warn)console.warn(eK);eo.newParam=eq;eo.newBody=eE.replace(/^\s+$/mg,'');}function eJ(){var eH=[eq,eE],eD=db('L_'+eI,eH),eC=db('undef',eH),eB=eo.newParam=eq,eF=cf(4),eG=cf(8),eA=eo.newBody=eF('var '+eC+';\n'+eD+': while (true) {\n'+eF(cu(c2(ef,ey,eE,eD,eq),eo.varArr,eC)+'\n')+'  return;\n'+'}\n'+(ek&&ek.length?'\n\n'+e_(ef,ek)+'\n':'')).replace(/^\s+$/mg,'');eo.paramArr=eB;eo.body=eA;}function ez(){var ex=ey.hasAll(),el=[eo].concat(ex.infoArr.filter(function (ew){return ew!==eo;})),ee=el.map(function (ev){return ev.name;}),ed=el.map(function (eu){return eu.paramArr.concat(eu.origBody);}),em=ee.switch_ind_name=db('switch_ind',ed),en=ee.switchLabel=db('L_switch',ed),eb=db('undef',ed);bZ(el.map(function (et){return et.fm;}));var eg=cf(4),e$=cf(8),es=cf(12),er=eo.newParam=eq,ep=eo.newBody=eg(['var '+eb+';','var '+em+' = 0;',en+': while (true) {',eg('switch ('+em+') {')].concat(el.map(ei)).concat([eg('}'),eg('return;'),'}',''].concat(ek&&ek.length?['','',e_(ef,ek.filter(function (ej){(ej.fullname||0).substring.call.a;return 0>ee.lastIndexOf(ej.fullname);}))]:[]))).join('\n').replace(/^\s+$/mg,'');function ei(ec,eh){var ea=['','case '+eh+':'];ea.push(eg(cu(c2(ef,ec.metaretArr,ec.origBody,ee,ed),ec.varArr,eb)));ea.push('break;');ea.push('');return ea.map(e$).join('\n');}}}function e_(d6,d8){var d3=[];for(var d9=d8.length,d7=0;d7<d9;d7++){var d5=d8[d7],d4=d6[d5.fullname];if(d5.isAnonymousFunction)continue;d3.push('\n');d3.push('function '+d4.lastname+'('+d4.paramArr.join(',')+')\n'+(/^\s*\{[\s\S]*?\}\s*$/.test(d4.body)?d4.body:'{\n'+d4.body+'\n}\n'));}return d3.join('\n');}function d2(d0,dZ){if(!d1.test(dZ))throw new Error('MetaFunction : _checkNameNotUsedYet : Invalid function name "'+dZ+'". The function name must match [a-zA-Z_][a-zA-Z_0-9]*');if(b9(d0,dZ,[]))throw new Error('MetaFunction : _checkNameNotUsedYet : Duplicate function name "'+dZ+'". The function name must be unique: '+'MetaFunction can be called one time only with a given name.');}function dY(dW){dW=dW.replace(/\/\*.*?\*\//g,'');if(!dX.test(dW))throw new Error('MetaFunction : _checkExtractParam : Invalid parameters string, the string must be like "self,x,y,z".');var dV=dW.replace(/\s+/g,'').split(',');dV.self=dV.splice(dc,1)[0];return dV;}function dU(dT){var dS=codeparse(dT,dL),dQ=dS.identifierArr,dN=[];for(var dR=dQ.length,dP=0;dP<dR;dP++){var dO=dQ[dP];dN.push({text:dO.str,end:dO.begin+dO.str.length,start:dO.begin,isVardecl:dO.isVardecl});}return dN;}function dM(dJ,dC,dw){var dK=codeparse(dJ,dL),dH=dK.bracketextraArr,dv=[];dv.body=dJ;dv.self=dC;dv.selfName=dw;for(var dI=dH.length,dG=0;dG<dI;dG++){var dx=dH[dG];if(dx.typebracket!==dF)continue;var dB=dx.sepSplit.map(function (dE){return dE.str.replace(/^\s+/,'').replace(/\s+$/,'');}),dy=dB.length>dc&&dB.splice(dc,1)[0];if(!dy)throw new Error('MetaFunction : _checkExtractMetaret() : A `metaret` needs at least an action.');if(dy!==dC&&!dD.test(dy)){throw new Error('MetaFunction : _checkExtractMetaret : Invalid action "'+dy+'". action must be self ("'+dC+'") or a named action (like "myOtherAction" or "my.other.action" or "my_other_action").');}var dz=dy===dC||dy===dw;dv.push({exprArr:dB,isSelf:dz,action:dz?dw:dy,end:dx.end,start:dx.begin,namespace:dw,namespace_arr:dw.split('.')});}dv.hasOther=du;dv.hasAll=dq;return dv;}function du(){var ds='hasOtherResult';if(ds in this)return this[ds];var dr=[];for(var dt=this.length;dt--;){if(!this[dt].isSelf)dr.push(this[dt].action);}return this[ds]=dr.length&&dr;}function dq(dk,dj,dg,df){var di=arguments.length<2;if(di){var dh='hasAllResult';if(dh in this)return this[dh];dg={};df=[];}for(var dp=this.length;dp--;){var dn=this[dp];if(dn.isSelf)continue;var dm=dn.action;if(!dm)throw new Error('MetaFunction : hasAll : Found a bug: empty metaret action (not permitted).');if(dm in dg)continue;var dl=b3(dk,dm,dn.namespace_arr);if(!dl)return false;if(dl.name in dg)continue;dg[dm]=dg[dl.name]=dl;df.push(dl);if(!dl.metaretArr.hasAll(dk,dj,dg,df))return false;}if(di)return this[dh]={vObj:dg,infoArr:df}; else return true;}function de(dd){return dd.slice(0,dc).concat(dd.slice(dc+1));}function db(da,d$){var d_=cL(da,d$);d$.push(d_);return d_;}function cL(c9){var c7=c1.call(arguments,1);for(var c8=null;true;c8=(c8>>>0)+1){var c6='_'+c9.replace(/#/g,'').replace(/\W/g,'_')+(c8||'')+'_';if(!c5(c7))return c6;}function c5(c4){if(typeof c4==='string')return -1<c4.indexOf(c6);for(var c3=c4.length;c3--;){if(c5(c4[c3]))return true;}return false;}}function c2(cP,cC,cZ,cD){var cK=c1.call(arguments,1),cE=typeof cD==='string',cR=cZ;for(var cY=cC.length;cY--;){var cW=cC[cY],cU=cR.slice(0,cW.start),cS=cR.slice(cW.end);var cV='',cX=cS.match(/^\s*(?:\/\/[^\r\n]*[\r\n]+|\/\*((?!\*\/)[\s\S]*)\*\/)/);if(cX){cV=cX[0];cS=cS.substring(cV.length);}var cT=cQ(cW,cV);cR=cU+cT+cS;}return cR;function cQ(cy,cw){var cv=[],cB=b3(cP,cy.action,cy.namespace_arr),cM=cB.paramArr,cI=cy.exprArr;if(cM.length!==cI.length){throw new Error('MetaFunction : _replaceMetaretWithContinue : prepareCode : Invalid number of metaret arguments, action  "'+cy.action+'" expects '+cM.length+' arguments, but '+cI.length+' were given.');}if(cM.length===1){cv.push(cM[0]+' = '+cI[0]+';');} else {for(var cJ=0,cH=0,cN=cM.length;cH<cN;cH++){var cG=cM[cH];if(cG===cI[cH])continue;var cF=cL(cG,cK);cK.push(cF);cv.splice(cJ++,0,'var '+cF+' = '+cI[cH]+';');cv.push(cG+' = '+cF+';');}}if(cE){cv.push('continue '+cD+';');} else {var cx=cD;if(cy.action===cC.selfName){cv.push('continue '+cx.switchLabel+'; // --- stay in: '+cy.action);} else {var cz=cx.indexOf(cB.name);if(0>cz){throw new Error('MetaFunction : _replaceMetaretWithContinue : prepareCode : Found a bug! Could not find the switch index of action "'+cy.action+'"');}cv.push(cx.switch_ind_name+' = '+cz+'; // --- go to: '+cy.action);cv.push('continue '+cx.switchLabel+';');}}if(cw)cv.unshift(cw);cv.unshift('{');cv.push('}');return cv.join('\n')+'\n';}}function cu(cg,cr,cj){var ci=[],co={};for(var cq=0,ct=cr.length;cq<ct;cq++){var cm=cr[cq],cl=cm.text;if(cl in co)continue;co[cl]=1;var cn=cg.search(new RegExp(cl+'\\s*[,;]'));if(cm.isVardecl&&-1<cn&&cn<cm.end){ci.push(cl);}}if(!ci.length)return cg;return 'var '+ci.map(function (ck){return ck+' = '+cj;}).join('\n, ')+(ci.length>1?'\n':'')+';\n'+cg;}function cf(ce){var cd=' ',cc=[];while(ce){if(ce&1)cc.push(cd);ce>>=1;cd+=cd;}var ca=cc.join('');return c_;function c_(c$){if(typeof c$==='string'){var cb=/\n/;if(cb.test(c$))return c$.split(cb).map(c_).join('\n');return ca+c$;}return c$.map(c_);}}function b9(b8,b7,b6){var b5=b3(b8,b7,b6);return !!(b5&&!b5._work_in_progress);}function b3(b2,b1,b0){var b4=b0.concat(b1).join('.');if(b4 in b2)return b2[b4];if(b0.length)return b3(b2,b1,b0.slice(0,-1));return false;}function bZ(bY){var bR={};bY.forEach(bX);function bX(bT){if(!bT)return;var bW=bT.varuseObj,bV=bT.vardeclObj,bU=bT.param_set;for(var bQ in bW){if(!(bQ in bV)&&!(bQ in bU)){var bS=bP(bQ,bT);if(!bR[bQ])bR[bQ]={scope:bS}; else if(bS!==bR[bQ].scope)throw new Error('metafun error: when using mutual recursion, the various metafunctions must share their bound variables (if any).');}}}}function bP(bO,bN){return bN?bN.vardeclObj[bO]?bN:bP(bO,bN.parent):null;}function bM(){var bH=arguments[0];for(var bK=1,bL=arguments.length;bK<bL;bK++){var bJ=arguments[bK];for(var bI in bJ){if(bJ.hasOwnProperty(bI)){bH[bI]=bJ[bI];}}}return bH;}})(this);}(function (bG){bG.jsm2js=bF;function bF(bE){var bq={},bD=metaparse(bE,bq,{doNotCompile:true}),bv=bE;bs(bD);bo(bv);return bv;function bs(bC){for(var bB=bC.length;bB--;){var bz=bC[bB],bt=bz.fmtree,bw=bz.info,bx=bt.begin,bu=bt.end,by=bw.lastname;bx.toPrecision.call.a;(bu||null).toPrecision.call.a;if(bt.isMetafunction){bv=bv.substring(0,bx)+'\nfunction '+bw.lastname+'('+bw.paramArr.join(',')+')\n{\n'+(bw.newBody||bw.solve(),bw.newBody)+'\n}\n'+bv.substring(bu);} else if(bt.isFunction){var br=bt.children;if(br)bs(br.map(function (bp){return {fmtree:bp,info:bq[bp.fullname]};}));}}}}var bn;function bo(bd){bn||(bn=metaparse.get_CONST());var bm=codeparse(bd,bn.CODEPARSE_OPT),bh=cp2fmtree(bm),bk=bm.jsmMetaretArr||[],bl=bm.jsmMetafunArr||[];if(bl.length||bk.length){if('undefined'!==typeof console){console.error('mfunArr:',bl);console.error('mretArr:',bk);}throw new Error('jsm2js:check_leftover: found remaining `metafun` and/or `metaret` within function(s): '+' - Please check for basic errors. For example a `metaret` can only be used from within a `metafun`.'+' See also github issue #9: https://github.com/glathoud/js.metaret/issues/9');}function bj(bc){var be;for(var bi=bh.length,bg=0;bg<bi;bg++){var bf=bh[bg];if(bf.begin<=bc&&bc<bf.end){be=bf;break;}}return {begin:bc,containing_function:be,containing_function_fullname:be&&be.fullname,local_context:bd.substring(Math.max(0,bc-50),bc+40)};}}})(this);}{if(typeof codeparse==='undefined'){}if(typeof cp2fmtree==='undefined'){}(function (ba){var ag='inline',b$={extraReservedArr:[ag]},$4={extraReservedArr:[ag],jsmAllowMetaretOutsideFunction:true,allowReturnOutsideFunction:true},$w='varassign',$x='assign',$y='call',as='bracket',ar='round',aB='identifier',bb='reserved',$Z='return',$L='var',av='vardecl';ba.inlineCode=aM;function aM(aQ,aG,aV,aI){aG||(aG={});aI||(aI=[]);var aL=codeparse(aQ,b$),aK=cp2fmtree(aL),a8=aL.all,aP=a8.map(function (b_,a9){var a7=aD(b_,a9,a8,aQ);if(a7){a7.begin=a7.o.begin;a7.end=a7.args.end;a7.str=aQ.substring(a7.begin,a7.end);}return a7;}).filter(function (a6){return a6;});var a4=aK.lastname2fmarr;var aF=aV?JSON.stringify(aV):aQ;aI.push({key:aF,code:aQ,workspace:aG,opt_code_info:aV});if(aF in aG){var aE=aG[aF].newcode;if('string'!==typeof aE){if('undefined'!==typeof console&&console&&console.error){console.error('error_inline_stack (summary):\n '+aI.map(function (a5){return '\n'+a5.key.substring(0,96)+(a5.key.length<96?'':'...');}).join('\n\n###\n'));console.error('error_inline_stack (full):');console.error(aI);}throw new Error('inline error: Most likely you have an infinite `inline` recursion. Consider using `metafun` and `metaret` instead.');}return aE;}aG[aF]={code_info:aV,inlineArr:aP,lastname2fmarr:a4,cp:aL,fm:aK};if(!aP.length)return aG[aF].newcode=aQ;for(var aO=aP.length;aO--;){var aJ=aP[aO];aJ.fmScopePath=$d(aK,aJ);var a3=$$(aK,aJ,aJ.fmScopePath);if(a3){aJ.hasLocalMatch=true;aJ.fmCallMatch=a3;aJ.matchKey=aF;} else {var a2=[],aX=aJ.call.name;(aX||0).substring.call.a;for(var aW in aG){if(aG.hasOwnProperty(aF)){if(aF===aW)continue;var a1=aG[aW],a0=a1.lastname2fmarr,aZ=a0[aX],aY=aZ&&aZ.length;if(aY===1){if(aJ.fmCallMatch){throw new Error('Ambiguous match for inline call "'+aX+'" found between the 2 pieces: '+aJ.matchKey+'\n --- and --- \n'+aW);}aJ.hasLocalMatch=false;aJ.fmCallMatch=aZ[0];aJ.matchKey=aW;Z(aJ.fmCallMatch);} else if(aY===2){throw new Error('Ambiguous match for inline call "'+aX+'" found within piece "'+aW);}}}}if(!aJ.fmCallMatch)throw new Error('inline error: when inlining within a file, the source body must be visible to the target inline location. one.call.name: "'+aJ.call.name+'", opt_code_info: '+JSON.stringify(aV));var aT=aJ.fmCallMatch.begin,aR=aJ.fmCallMatch.end,aU=aL.identifierObj['arguments']||[];if(aU.some(function (aS){return aT<=aS&&aS<aR;}))throw new Error('inline error: it is forbidden to use `arguments` in the body of the function to be inlined.');}var aE=aQ;for(var aO=aP.length;aO--;){var aJ=aP[aO],aN=aJ.begin,aH=aJ.end;aE=aE.substring(0,aN)+aM(aj(aL.identifierObj,aK,aJ),aG,null,aI)+aE.substring(aH);}return aG[aF].newcode=aE;}function aD(ao,an,aC,aq){if(ao.name!==ag)return;var aw,am,al,ak,ay=ao.children.length,ax=ao.children[0],aA=ao.children[1],az=ao.children[2];if(ay===2&&(al=ax).type===$y&&(ak=aA).type===as&&ak.typebracket===ar){return {o:ao,ind:an,inlinetype:$y,call:al,args:ak};}if(ay===3&&(am=ax).type===aB&&(al=aA).type===$y&&(ak=az).type===as&&ak.typebracket===ar&&/=/.test(aq.substring(am.end,al.begin))){return {o:ao,ind:an,inlinetype:$x,identifier:am,call:al,args:ak};}var au;if(ay===1&&(aw=ax).type===as&&aw.typebracket===$L&&(au=aw.children).length===3&&(am=au[0]).type===av&&(al=au[1]).type===$y&&(ak=au[2]).type===as&&ak.typebracket===ar&&/=/.test(aq.substring(am.end,al.begin))){return {o:ao,ind:an,inlinetype:$w,identifier:am,call:al,args:ak};}throw new Error('Unrecognized inline syntax.');}function aj(af,ai,$t){var $u;var ah=$t.fmScopePath,$8=$t.fmCallMatch;if(-1<ah.indexOf($8)){if('undefined'!==typeof console)console.error('Could not inline: self-recursion found for "'+$8.fullname+'".'); else if('undefined'!==typeof print)print('[ERROR] Could not inline: self-recursion found for "'+$8.fullname+'".');return $t.str.substring(ag.length);}var a$=Object.create(af);var $C=$m('undef',a$),$v=$m('ret',a$),ad=$8.param_arr,$S=ad.map(function (ae){return $m(ae,a$);}),$2=$r(ad,$S),ac=$8.vardeclArr,a_=ac.map(function (ab){return ab.name;}),$9=a_.map(function (aa){return $m(aa,a$);}),$G=$r(a_,$9),$V=$8.body,$5=$8.body_node.begin,$6=$8.body_node.end,$7=$6-$5,$U=[],$N=codeparse($V,$4);for(var $M=$N.identifierArr.length;$M--;){var $3=$N.identifierArr[$M],$0=$2[$3.name]||$G[$3.name];if($0)$U.push({o:$3,newstr:$0});}for(var $M=$N.callArr.length;$M--;){var $1=$N.callArr[$M],$0=$2[$1.name]||$G[$1.name];if($0)$U.push({o:$1,newstr:$1.str.replace($1.name,$0)});}for(var $M=$N.bracketextraArr.length;$M--;){var $K=$N.bracketextraArr[$M];if($K.typebracket!==$Z)continue;$U.push({o:{begin:$K.begin,end:$K.begin+$Z.length},newstr:$v+' = '});$U.push({o:{begin:$K.end,end:$K.end},newstr:' break;'});}$U.sort(function ($Y,$X){var $W;return $Y.o.begin<$X.o.begin?-1:$Y.o.end>$X.o.end?+1:$W.bug;});var $z=$V;for(var $M=$U.length;$M--;){var $T=$U[$M];$z=$z.substring(0,$T.o.begin)+$T.newstr+$z.substring($T.o.end);}var $Q=$t.args.sepSplit,$B=$S.map(function ($R,$P){return 'var '+$R+' = '+($P<$Q.length?$Q[$P].str:$C)+';';});var $A=[],$F={};for(var $O=$N.bracketextraArr.length,$M=0;$M<$O;$M++){var $K=$N.bracketextraArr[$M];if($K.typebracket!==$L)continue;var $I=$K.vdArr;for(var $J=$I.length,$H=0;$H<$J;$H++){var $E=$I[$H];if(!$E.rightstr&&!($E.leftstr in $F)){$A.push($G[$E.leftstr]+' = '+$C);$F[$E.leftstr]=1;}}}var $D=/^\s*\{[\s\S]*?\}\s*$/.test($z);var $s=['{','//#INLINE_BEGIN: '+$t.str.replace(/\r\n/g,' ')].concat(['var '+$C+', '+$v+';']).concat(['//#INLINE_SET_INPUT_ARGS:']).concat($B).concat($A.length?['var '+$A.join(', ')+';']:[]).concat(['//#INLINE_IMPLEMENT:']).concat(['do {']).concat($z).concat(['} while (false);']).concat($t.inlinetype===$y?[]:$t.inlinetype===$x?[$t.identifier.name+' = '+$v+';']:$t.inlinetype===$w?['var '+$t.identifier.name+' = '+$v+';']:$u.bug).concat(['//#INLINE_END: '+$t.str.replace(/\r\n/g,' ')]).concat(['}']).join('\n');return $s;}function $r($q,$p){var $n={};for(var $o=$q.length;$o--;)$n[$q[$o]]=$p[$o];return $n;}function $m($l,$i){var $k='_'+$l+'_',$j='',$h;while(($h=$k+$j) in $i)$j=+$j+1;$i[$h]=1;return $h;}function $d($f,$b,$a){$a||($a=[]);for(var $g=$f.length,$e=0;$e<$g;$e++){var $c=$f[$e];if($c.begin<=$b.begin&&$b.end<=$c.end){$a.push($c);$d($c.children||[],$b,$a);break;}}return $a;}function $$(_9,$_,_1){var _3=$_.call.name,_8=_9.concat(_1),_0;top_loop:for(var _7=_8.length;_7--;){var _2=_8[_7];var _6=_2.children||[];for(var _5=_6.length;_5--;){var _4=_6[_5];if(_4.lastname===_3){_0=_4;break top_loop;}}if(_2.lastname===_3){_0=_2;break top_loop;}}if(_0)T(_0,_1.slice(-1)[0]);return _0;}function Z(W){var Y=W.varuseObj,X=W.vardeclObj;for(var V in Y){if(!(V in X)){var U=W;while(U=U.parent){if(V in U.vardeclObj){throw new Error('inline error: when inlining across files, the body to inline MUST NOT use locally bound variables (closures). (It may use globals, though.)');}}}}}function T(M,K){var O=[],S=M.varuseObj,R=M.vardeclObj,Q=M.param_set;for(var P in S){if(!(P in R)&&!(P in Q)){O.push(P);}}O.forEach(N);function N(L){var J=H(L,M),I=H(L,K);if(J!==I)throw new Error('inline error: when inlining within a file, the source body and the target inline location must share their bound variables (if the source body has any).');}function H(G,F){return F?F.vardeclObj[G]?F:H(G,F.parent):null;}}})(this);}var w=true;function A(q){if(E[q])return;E[q]=1;var y;if(/\.js$/.test(q))y=false; else if(/\.jsm$/.test(q))y=true; else throw new Error("need$: unknown type, only .js and .jsm are supported. Path: '"+q+"'");var l=need$.read(q);var B="/need\\$\\s*\\(\\s*([\"\\'])([^\"\\']+)\\1/",D=new RegExp(B,"g"),C=new RegExp(B),z=l.match(/need\$\s*\(\s*(["\'])([^"\']+)\1/g);while(z&&z.length)A(z.shift().match(/need\$\s*\(\s*(["\'])([^"\']+)\1/)[2]);if(y){l=jsm2js(l);if(w)l=inlineCode(l,u,{path:q});}eval.call(m,l);}function h(_){var $=new XMLHttpRequest();$.open("GET",_,false);$.send();if($.status!==0&&$.status!==200)throw new Error("need$:xhrGetSync: Could not load path '"+_+"'");return $.responseText+"\r\n//@ sourceURL="+_;}})(this);}
